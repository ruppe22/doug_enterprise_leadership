<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: PortalComponents Pages: 1 -->
<svg width="935pt" height="449pt"
 viewBox="0.00 0.00 935.00 449.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 445)">
<title>PortalComponents</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-445 931,-445 931,4 -4,4"/>
<text text-anchor="middle" x="463.5" y="-427.4" font-family="Helvetica,sans-Serif" font-size="12.00">Portal Composition (Shell + Modular Content Blocks)</text>
<g id="clust1" class="cluster">
<title>cluster_ui</title>
<path fill="white" stroke="#bbbbbb" d="M207,-339C207,-339 552,-339 552,-339 558,-339 564,-345 564,-351 564,-351 564,-400 564,-400 564,-406 558,-412 552,-412 552,-412 207,-412 207,-412 201,-412 195,-406 195,-400 195,-400 195,-351 195,-351 195,-345 201,-339 207,-339"/>
<text text-anchor="middle" x="379.5" y="-398.4" font-family="Helvetica,sans-Serif" font-size="12.00">UI / Shared Assets</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_blocks</title>
<path fill="white" stroke="#bbbbbb" d="M20,-110C20,-110 864,-110 864,-110 870,-110 876,-116 876,-122 876,-122 876,-203 876,-203 876,-209 870,-215 864,-215 864,-215 20,-215 20,-215 14,-215 8,-209 8,-203 8,-203 8,-122 8,-122 8,-116 14,-110 20,-110"/>
<text text-anchor="middle" x="442" y="-201.4" font-family="Helvetica,sans-Serif" font-size="12.00">Content Builder Modules (Brains)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_data</title>
<path fill="white" stroke="#bbbbbb" d="M284,-8C284,-8 907,-8 907,-8 913,-8 919,-14 919,-20 919,-20 919,-69 919,-69 919,-75 913,-81 907,-81 907,-81 284,-81 284,-81 278,-81 272,-75 272,-69 272,-69 272,-20 272,-20 272,-14 278,-8 284,-8"/>
<text text-anchor="middle" x="595.5" y="-67.4" font-family="Helvetica,sans-Serif" font-size="12.00">Data Contracts (PII&#45;Minimized DEs)</text>
</g>
<!-- Shell -->
<g id="node1" class="node">
<title>Shell</title>
<path fill="#f8f8f8" stroke="#333333" d="M459.5,-310C459.5,-310 310.5,-310 310.5,-310 304.5,-310 298.5,-304 298.5,-298 298.5,-298 298.5,-254 298.5,-254 298.5,-248 304.5,-242 310.5,-242 310.5,-242 459.5,-242 459.5,-242 465.5,-242 471.5,-248 471.5,-254 471.5,-254 471.5,-298 471.5,-298 471.5,-304 465.5,-310 459.5,-310"/>
<text text-anchor="middle" x="385" y="-297.2" font-family="Helvetica,sans-Serif" font-size="11.00">CloudPage: Portal Shell</text>
<text text-anchor="middle" x="385" y="-285.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Layout + routing (?view=)</text>
<text text-anchor="middle" x="385" y="-273.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Calls Auth once</text>
<text text-anchor="middle" x="385" y="-261.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Loads Global CSS/JS</text>
<text text-anchor="middle" x="385" y="-249.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Renders selected Tile CB</text>
</g>
<!-- Auth -->
<g id="node4" class="node">
<title>Auth</title>
<path fill="#f8f8f8" stroke="#333333" d="M152,-186C152,-186 28,-186 28,-186 22,-186 16,-180 16,-174 16,-174 16,-130 16,-130 16,-124 22,-118 28,-118 28,-118 152,-118 152,-118 158,-118 164,-124 164,-130 164,-130 164,-174 164,-174 164,-180 158,-186 152,-186"/>
<text text-anchor="middle" x="90" y="-173.2" font-family="Helvetica,sans-Serif" font-size="11.00">Auth Module</text>
<text text-anchor="middle" x="90" y="-161.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Access checks</text>
<text text-anchor="middle" x="90" y="-149.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Sets @accessGranted</text>
<text text-anchor="middle" x="90" y="-137.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Sets @accessStatus</text>
<text text-anchor="middle" x="90" y="-125.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Sets @UserEmail</text>
</g>
<!-- Shell&#45;&gt;Auth -->
<g id="edge3" class="edge">
<title>Shell&#45;&gt;Auth</title>
<path fill="none" stroke="#555555" d="M298.29,-258.05C258.82,-248.44 212.27,-234.39 173,-215 160.41,-208.78 147.78,-200.59 136.31,-192.21"/>
<polygon fill="#555555" stroke="#555555" points="138.28,-189.31 128.18,-186.1 134.07,-194.91 138.28,-189.31"/>
</g>
<!-- Utils -->
<g id="node5" class="node">
<title>Utils</title>
<path fill="#f8f8f8" stroke="#333333" d="M284,-186C284,-186 194,-186 194,-186 188,-186 182,-180 182,-174 182,-174 182,-130 182,-130 182,-124 188,-118 194,-118 194,-118 284,-118 284,-118 290,-118 296,-124 296,-130 296,-130 296,-174 296,-174 296,-180 290,-186 284,-186"/>
<text text-anchor="middle" x="239" y="-173.2" font-family="Helvetica,sans-Serif" font-size="11.00">Core Utils Module</text>
<text text-anchor="middle" x="239" y="-161.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Guardrails</text>
<text text-anchor="middle" x="239" y="-149.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Input validation</text>
<text text-anchor="middle" x="239" y="-137.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Audit helper</text>
<text text-anchor="middle" x="239" y="-125.2" font-family="Helvetica,sans-Serif" font-size="11.00">• Hash helpers</text>
</g>
<!-- Shell&#45;&gt;Utils -->
<g id="edge4" class="edge">
<title>Shell&#45;&gt;Utils</title>
<path fill="none" stroke="#555555" d="M339.05,-241.9C327.73,-233.38 315.77,-224.05 305,-215 296.97,-208.25 288.63,-200.8 280.71,-193.48"/>
<polygon fill="#555555" stroke="#555555" points="282.64,-190.5 272.94,-186.24 277.86,-195.62 282.64,-190.5"/>
</g>
<!-- ConsentTile -->
<g id="node6" class="node">
<title>ConsentTile</title>
<path fill="#f8f8f8" stroke="#333333" d="M444,-170C444,-170 326,-170 326,-170 320,-170 314,-164 314,-158 314,-158 314,-146 314,-146 314,-140 320,-134 326,-134 326,-134 444,-134 444,-134 450,-134 456,-140 456,-146 456,-146 456,-158 456,-158 456,-164 450,-170 444,-170"/>
<text text-anchor="middle" x="385" y="-155.2" font-family="Helvetica,sans-Serif" font-size="11.00">Tile 1: Consent Lookup</text>
<text text-anchor="middle" x="385" y="-143.2" font-family="Helvetica,sans-Serif" font-size="11.00">(read&#45;only)</text>
</g>
<!-- Shell&#45;&gt;ConsentTile -->
<g id="edge5" class="edge">
<title>Shell&#45;&gt;ConsentTile</title>
<path fill="none" stroke="#555555" d="M385,-241.99C385,-222.73 385,-198.72 385,-180.49"/>
<polygon fill="#555555" stroke="#555555" points="388.5,-180.25 385,-170.25 381.5,-180.25 388.5,-180.25"/>
</g>
<!-- TxnTile -->
<g id="node7" class="node">
<title>TxnTile</title>
<path fill="#f8f8f8" stroke="#333333" d="M654,-170C654,-170 486,-170 486,-170 480,-170 474,-164 474,-158 474,-158 474,-146 474,-146 474,-140 480,-134 486,-134 486,-134 654,-134 654,-134 660,-134 666,-140 666,-146 666,-146 666,-158 666,-158 666,-164 660,-170 654,-170"/>
<text text-anchor="middle" x="570" y="-155.2" font-family="Helvetica,sans-Serif" font-size="11.00">Tile 2: Transactional Verification</text>
<text text-anchor="middle" x="570" y="-143.2" font-family="Helvetica,sans-Serif" font-size="11.00">(read&#45;only)</text>
</g>
<!-- Shell&#45;&gt;TxnTile -->
<g id="edge6" class="edge">
<title>Shell&#45;&gt;TxnTile</title>
<path fill="none" stroke="#555555" d="M435.06,-241.99C466.97,-220.94 507.47,-194.23 535.74,-175.59"/>
<polygon fill="#555555" stroke="#555555" points="537.68,-178.51 544.1,-170.08 533.83,-172.66 537.68,-178.51"/>
</g>
<!-- MktTile -->
<g id="node8" class="node">
<title>MktTile</title>
<path fill="#f8f8f8" stroke="#333333" d="M855.5,-170C855.5,-170 696.5,-170 696.5,-170 690.5,-170 684.5,-164 684.5,-158 684.5,-158 684.5,-146 684.5,-146 684.5,-140 690.5,-134 696.5,-134 696.5,-134 855.5,-134 855.5,-134 861.5,-134 867.5,-140 867.5,-146 867.5,-146 867.5,-158 867.5,-158 867.5,-164 861.5,-170 855.5,-170"/>
<text text-anchor="middle" x="776" y="-155.2" font-family="Helvetica,sans-Serif" font-size="11.00">Tile 3: Marketing Send History</text>
<text text-anchor="middle" x="776" y="-143.2" font-family="Helvetica,sans-Serif" font-size="11.00">(read&#45;only)</text>
</g>
<!-- Shell&#45;&gt;MktTile -->
<g id="edge7" class="edge">
<title>Shell&#45;&gt;MktTile</title>
<path fill="none" stroke="#555555" d="M471.64,-265.07C530.5,-256.42 609.28,-241.04 675,-215 699.88,-205.14 725.55,-189.29 744.79,-176.09"/>
<polygon fill="#555555" stroke="#555555" points="746.96,-178.84 753.15,-170.24 742.95,-173.1 746.96,-178.84"/>
</g>
<!-- GlobalCSS -->
<g id="node2" class="node">
<title>GlobalCSS</title>
<path fill="#f8f8f8" stroke="#333333" d="M370.5,-383C370.5,-383 215.5,-383 215.5,-383 209.5,-383 203.5,-377 203.5,-371 203.5,-371 203.5,-359 203.5,-359 203.5,-353 209.5,-347 215.5,-347 215.5,-347 370.5,-347 370.5,-347 376.5,-347 382.5,-353 382.5,-359 382.5,-359 382.5,-371 382.5,-371 382.5,-377 376.5,-383 370.5,-383"/>
<text text-anchor="middle" x="293" y="-368.2" font-family="Helvetica,sans-Serif" font-size="11.00">Global CSS (SOT)</text>
<text text-anchor="middle" x="293" y="-356.2" font-family="Helvetica,sans-Serif" font-size="11.00">Code Resource or Head Block</text>
</g>
<!-- GlobalCSS&#45;&gt;Shell -->
<g id="edge1" class="edge">
<title>GlobalCSS&#45;&gt;Shell</title>
<path fill="none" stroke="#555555" d="M311.18,-346.81C320.2,-338.28 331.5,-327.59 342.54,-317.16"/>
<polygon fill="#555555" stroke="#555555" points="345.24,-319.42 350.1,-310 340.43,-314.33 345.24,-319.42"/>
</g>
<!-- GlobalJS -->
<g id="node3" class="node">
<title>GlobalJS</title>
<path fill="#f8f8f8" stroke="#333333" d="M543.5,-383C543.5,-383 412.5,-383 412.5,-383 406.5,-383 400.5,-377 400.5,-371 400.5,-371 400.5,-359 400.5,-359 400.5,-353 406.5,-347 412.5,-347 412.5,-347 543.5,-347 543.5,-347 549.5,-347 555.5,-353 555.5,-359 555.5,-359 555.5,-371 555.5,-371 555.5,-377 549.5,-383 543.5,-383"/>
<text text-anchor="middle" x="478" y="-368.2" font-family="Helvetica,sans-Serif" font-size="11.00">Global JS (optional)</text>
<text text-anchor="middle" x="478" y="-356.2" font-family="Helvetica,sans-Serif" font-size="11.00">Shared helpers (UX only)</text>
</g>
<!-- GlobalJS&#45;&gt;Shell -->
<g id="edge2" class="edge">
<title>GlobalJS&#45;&gt;Shell</title>
<path fill="none" stroke="#555555" d="M459.63,-346.81C450.42,-338.2 438.86,-327.38 427.6,-316.85"/>
<polygon fill="#555555" stroke="#555555" points="429.97,-314.28 420.28,-310 425.19,-319.39 429.97,-314.28"/>
</g>
<!-- AuditLog -->
<g id="node13" class="node">
<title>AuditLog</title>
<path fill="#f8f8f8" stroke="#333333" d="M625,-52C625,-52 579,-52 579,-52 573,-52 567,-46 567,-40 567,-40 567,-28 567,-28 567,-22 573,-16 579,-16 579,-16 625,-16 625,-16 631,-16 637,-22 637,-28 637,-28 637,-40 637,-40 637,-46 631,-52 625,-52"/>
<text text-anchor="middle" x="602" y="-31.2" font-family="Helvetica,sans-Serif" font-size="11.00">Audit_Log</text>
</g>
<!-- Auth&#45;&gt;AuditLog -->
<g id="edge12" class="edge">
<title>Auth&#45;&gt;AuditLog</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M150.63,-117.93C158.02,-114.84 165.57,-112.09 173,-110 272.22,-82.03 301.17,-96.34 404,-89 421.09,-87.78 542.42,-88.14 558,-81 568.1,-76.37 577.05,-68.29 584.19,-60.18"/>
<polygon fill="#555555" stroke="#555555" points="587.11,-62.14 590.72,-52.18 581.68,-57.72 587.11,-62.14"/>
<text text-anchor="middle" x="445" y="-92" font-family="Helvetica,sans-Serif" font-size="10.00">logs auth events</text>
</g>
<!-- ConsentFacts -->
<g id="node9" class="node">
<title>ConsentFacts</title>
<path fill="#f8f8f8" stroke="#333333" d="M363.5,-52C363.5,-52 292.5,-52 292.5,-52 286.5,-52 280.5,-46 280.5,-40 280.5,-40 280.5,-28 280.5,-28 280.5,-22 286.5,-16 292.5,-16 292.5,-16 363.5,-16 363.5,-16 369.5,-16 375.5,-22 375.5,-28 375.5,-28 375.5,-40 375.5,-40 375.5,-46 369.5,-52 363.5,-52"/>
<text text-anchor="middle" x="328" y="-31.2" font-family="Helvetica,sans-Serif" font-size="11.00">Consent_Facts</text>
</g>
<!-- ConsentTile&#45;&gt;ConsentFacts -->
<g id="edge8" class="edge">
<title>ConsentTile&#45;&gt;ConsentFacts</title>
<path fill="none" stroke="#555555" d="M376.59,-133.88C367.2,-114.78 351.9,-83.63 340.97,-61.4"/>
<polygon fill="#555555" stroke="#555555" points="344,-59.62 336.45,-52.19 337.71,-62.71 344,-59.62"/>
</g>
<!-- ConsentTile&#45;&gt;AuditLog -->
<g id="edge13" class="edge">
<title>ConsentTile&#45;&gt;AuditLog</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M416.08,-133.87C430.71,-126.11 448.52,-117.12 465,-110 490.55,-98.96 497.3,-96.87 524,-89 538.89,-84.61 544.52,-88.7 558,-81 567.35,-75.65 575.97,-67.71 583.04,-59.92"/>
<polygon fill="#555555" stroke="#555555" points="585.74,-62.15 589.58,-52.28 580.42,-57.6 585.74,-62.15"/>
<text text-anchor="middle" x="552" y="-92" font-family="Helvetica,sans-Serif" font-size="10.00">logs lookup</text>
</g>
<!-- TxnFacts -->
<g id="node10" class="node">
<title>TxnFacts</title>
<path fill="#f8f8f8" stroke="#333333" d="M536.5,-52C536.5,-52 405.5,-52 405.5,-52 399.5,-52 393.5,-46 393.5,-40 393.5,-40 393.5,-28 393.5,-28 393.5,-22 399.5,-16 405.5,-16 405.5,-16 536.5,-16 536.5,-16 542.5,-16 548.5,-22 548.5,-28 548.5,-28 548.5,-40 548.5,-40 548.5,-46 542.5,-52 536.5,-52"/>
<text text-anchor="middle" x="471" y="-31.2" font-family="Helvetica,sans-Serif" font-size="11.00">Transactional_Send_Facts</text>
</g>
<!-- TxnTile&#45;&gt;TxnFacts -->
<g id="edge9" class="edge">
<title>TxnTile&#45;&gt;TxnFacts</title>
<path fill="none" stroke="#555555" d="M555.39,-133.88C538.72,-114.35 511.31,-82.23 492.27,-59.92"/>
<polygon fill="#555555" stroke="#555555" points="494.82,-57.52 485.67,-52.19 489.5,-62.06 494.82,-57.52"/>
</g>
<!-- TxnTile&#45;&gt;AuditLog -->
<g id="edge14" class="edge">
<title>TxnTile&#45;&gt;AuditLog</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M574.72,-133.88C579.94,-114.95 588.43,-84.19 594.55,-62"/>
<polygon fill="#555555" stroke="#555555" points="597.97,-62.76 597.26,-52.19 591.23,-60.9 597.97,-62.76"/>
<text text-anchor="middle" x="614" y="-92" font-family="Helvetica,sans-Serif" font-size="10.00">logs lookup</text>
</g>
<!-- MktFacts -->
<g id="node11" class="node">
<title>MktFacts</title>
<path fill="#f8f8f8" stroke="#333333" d="M780.5,-52C780.5,-52 667.5,-52 667.5,-52 661.5,-52 655.5,-46 655.5,-40 655.5,-40 655.5,-28 655.5,-28 655.5,-22 661.5,-16 667.5,-16 667.5,-16 780.5,-16 780.5,-16 786.5,-16 792.5,-22 792.5,-28 792.5,-28 792.5,-40 792.5,-40 792.5,-46 786.5,-52 780.5,-52"/>
<text text-anchor="middle" x="724" y="-31.2" font-family="Helvetica,sans-Serif" font-size="11.00">Marketing_Send_Facts</text>
</g>
<!-- MktTile&#45;&gt;MktFacts -->
<g id="edge10" class="edge">
<title>MktTile&#45;&gt;MktFacts</title>
<path fill="none" stroke="#555555" d="M768.33,-133.88C759.76,-114.78 745.8,-83.63 735.84,-61.4"/>
<polygon fill="#555555" stroke="#555555" points="738.99,-59.88 731.7,-52.19 732.6,-62.74 738.99,-59.88"/>
</g>
<!-- CampaignMap -->
<g id="node12" class="node">
<title>CampaignMap</title>
<path fill="#f8f8f8" stroke="#333333" d="M899,-52C899,-52 823,-52 823,-52 817,-52 811,-46 811,-40 811,-40 811,-28 811,-28 811,-22 817,-16 823,-16 823,-16 899,-16 899,-16 905,-16 911,-22 911,-28 911,-28 911,-40 911,-40 911,-46 905,-52 899,-52"/>
<text text-anchor="middle" x="861" y="-31.2" font-family="Helvetica,sans-Serif" font-size="11.00">Campaign_Map</text>
</g>
<!-- MktTile&#45;&gt;CampaignMap -->
<g id="edge11" class="edge">
<title>MktTile&#45;&gt;CampaignMap</title>
<path fill="none" stroke="#555555" d="M788.54,-133.88C802.73,-114.52 825.98,-82.79 842.31,-60.51"/>
<polygon fill="#555555" stroke="#555555" points="845.32,-62.32 848.41,-52.19 839.67,-58.18 845.32,-62.32"/>
</g>
<!-- MktTile&#45;&gt;AuditLog -->
<g id="edge15" class="edge">
<title>MktTile&#45;&gt;AuditLog</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M737.51,-133.88C710.87,-121.15 675.26,-102.34 647,-81 638.88,-74.87 630.84,-67.28 623.86,-60.04"/>
<polygon fill="#555555" stroke="#555555" points="626.12,-57.34 616.74,-52.42 621,-62.12 626.12,-57.34"/>
<text text-anchor="middle" x="701" y="-92" font-family="Helvetica,sans-Serif" font-size="10.00">logs lookup</text>
</g>
</g>
</svg>
